var Color=function(t){var e={RGB_UPDATED:"RGBUpdated",HSL_UPDATED:"HSLUpdated",HSV_UPDATED:"HSVUpdated",HEX_UPDATED:"HexUpdated",INT_UPDATED:"IntUpdated",UPDATED:"updated",PARSED:"parsed"},i={transparent:"rgba(0, 0, 0, 0)",aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370D8",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#D87093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",white:"#FFFFFF"},r=function(t){return.5+t<<0},s=function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},n=function(t){return u.test(t)?r(2.55*parseInt(t)):parseInt(t)},a=/^#?([0-9a-f]{3}|[0-9a-f]{6})$/i,o=/^hsla?\((\d{1,3}?),\s*(\d{1,3}%),\s*(\d{1,3}%)(,\s*[01]?\.?\d*)?\)$/,h=/^rgba?\((\d{1,3}%?),\s*(\d{1,3}%?),\s*(\d{1,3}%?)(,\s*[01]?\.?\d*)?\)$/,u=/^\d+(\.\d+)*%$/,l=/([0-9a-f])/gi,p=/^#/,d=/^hsla?\((\d{1,3}),\s*(\d{1,3})%,\s*(\d{1,3})%(,\s*([01]?\.?\d*))?\)$/,_=/^rgba?\((\d{1,3}%?),\s*(\d{1,3}%?),\s*(\d{1,3}%?)(,\s*([01]?\.?\d*))?\)$/;function F(t){this._listeners={},this.subscribe(e.RGB_UPDATED,this._RGBUpdated),this.subscribe(e.HEX_UPDATED,this._HEXUpdated),this.subscribe(e.HSL_UPDATED,this._HSLUpdated),this.subscribe(e.HSV_UPDATED,this._HSVUpdated),this.subscribe(e.INT_UPDATED,this._INTUpdated),this.parse(t)}return F.prototype._decimal=0,F.prototype._hex="#000000",F.prototype._red=0,F.prototype._green=0,F.prototype._blue=0,F.prototype._hue=0,F.prototype._saturation=0,F.prototype._lightness=0,F.prototype._brightness=0,F.prototype._alpha=1,F.prototype.parse=function(t){if(void 0===t)return this;switch(!0){case isFinite(t):return this.decimal(t),this.output=F.INT,this.broadcast(e.PARSED),this;case t instanceof F:return this.copy(t),this.broadcast(e.PARSED),this;default:switch(typeof t){case"object":return this.set(t),this.broadcast(e.PARSED),this;case"string":switch(t=i.hasOwnProperty(t)?i[t]:t,!0){case a.test(t):var r=t.replace(p,"");return 3==r.length&&(r=r.replace(l,"$1$1")),this.decimal(parseInt(r,16)),this.broadcast(e.PARSED),this;case h.test(t):var s=t.match(_);this.red(n(s[1])),this.green(n(s[2])),this.blue(n(s[3]));var c=parseFloat(s[5]);return isNaN(c)&&(c=1),this.alpha(c),this.output=(u.test(s[1])?2:1)+(s[5]?2:0),this.broadcast(e.PARSED),this;case o.test(t):s=t.match(d);this.hue(parseInt(s[1])),this.saturation(parseInt(s[2])),this.lightness(parseInt(s[3]));c=parseFloat(s[5]);return isNaN(c)&&(c=1),this.alpha(c),this.output=s[5]?6:5,this.broadcast(e.PARSED),this}}}return this},F.prototype.clone=function(){var t=new F(this.decimal());return t.alpha(this.alpha()),t},F.prototype.copy=function(t){return this.set(t.decimal()).alpha(t.alpha())},F.prototype.set=function(t,e){if(1==arguments.length)if("object"==typeof t)for(var i in t)"function"==typeof this[i]&&this[i](t[i]);else isFinite(t)&&this.decimal(t);else"function"==typeof this[t]&&this[t](e);return this},F.prototype.interpolate=function(t,i){return t instanceof F||(t=new F(t)),this._red=r(+this._red+(t._red-this._red)*i),this._green=r(+this._green+(t._green-this._green)*i),this._blue=r(+this._blue+(t._blue-this._blue)*i),this._alpha=r(+this._alpha+(t._alpha-this._alpha)*i),this.broadcast(e.RGB_UPDATED),this.broadcast(e.UPDATED),this},F.prototype._RGB2HSL=function(){var t=this._red/255,e=this._green/255,i=this._blue/255,s=Math.max(t,e,i),n=Math.min(t,e,i),a=(s+n)/2,o=s;if(s==n)return this._hue=0,this._saturation=0,this._lightness=r(100*a),void(this._brightness=r(100*o));var h=s-n,u=h/(a<=.5?s+n:2-s-n),l=(s==t?(e-i)/h+(e<i?6:0):s==e?(i-t)/h+2:(t-e)/h+4)/6;this._hue=r(360*l),this._saturation=r(100*u),this._lightness=r(100*a),this._brightness=r(100*o)},F.prototype._HSL2RGB=function(){var t=this._hue/360,e=this._saturation/100,i=this._lightness/100,n=i<.5?i*(1+e):i+e-i*e,a=2*i-n;this._red=r(255*s(a,n,t+1/3)),this._green=r(255*s(a,n,t)),this._blue=r(255*s(a,n,t-1/3))},F.prototype._HSV2RGB=function(){var t=this._hue/360,e=this._saturation/100,i=this._brightness/100,s=0,n=0,a=0,o=Math.floor(6*t),h=6*t-o,u=i*(1-e),l=i*(1-h*e),p=i*(1-(1-h)*e);switch(o%6){case 0:s=i,n=p,a=u;break;case 1:s=l,n=i,a=u;break;case 2:s=u,n=i,a=p;break;case 3:s=u,n=l,a=i;break;case 4:s=p,n=u,a=i;break;case 5:s=i,n=u,a=l}this._red=r(255*s),this._green=r(255*n),this._blue=r(255*a)},F.prototype._INT2HEX=function(){var t=this._decimal.toString(16);t="000000".substr(0,6-t.length)+t,this._hex="#"+t.toUpperCase()},F.prototype._INT2RGB=function(){this._red=this._decimal>>16,this._green=this._decimal>>8&255,this._blue=255&this._decimal},F.prototype._HEX2INT=function(){this._decimal=parseInt(this._hex,16)},F.prototype._RGB2INT=function(){this._decimal=this._red<<16|this._green<<8&65535|this._blue},F.prototype._RGBUpdated=function(){this._RGB2INT(),this._RGB2HSL(),this._INT2HEX()},F.prototype._HSLUpdated=function(){this._HSL2RGB(),this._RGB2INT(),this._INT2HEX()},F.prototype._HSVUpdated=function(){this._HSV2RGB(),this._RGB2INT(),this._INT2HEX()},F.prototype._HEXUpdated=function(){this._HEX2INT(),this._INT2RGB(),this._RGB2HSL()},F.prototype._INTUpdated=function(){this._INT2RGB(),this._RGB2HSL(),this._INT2HEX()},F.prototype._broadcastUpdate=function(){this.broadcast(Event.UPDATED)},F.prototype.decimal=function(t){return this._handle("_decimal",t,e.INT_UPDATED)},F.prototype.hex=function(t){return this._handle("_hex",t,e.HEX_UPDATED)},F.prototype.red=function(t){return this._handle("_red",t,e.RGB_UPDATED)},F.prototype.green=function(t){return this._handle("_green",t,e.RGB_UPDATED)},F.prototype.blue=function(t){return this._handle("_blue",t,e.RGB_UPDATED)},F.prototype.hue=function(t){return this._handle("_hue",t,e.HSL_UPDATED)},F.prototype.saturation=function(t){return this._handle("_saturation",t,e.HSL_UPDATED)},F.prototype.lightness=function(t){return this._handle("_lightness",t,e.HSL_UPDATED)},F.prototype.brightness=function(t){return this._handle("_brightness",t,e.HSV_UPDATED)},F.prototype.alpha=function(t){return this._handle("_alpha",t)},F.prototype._handle=function(t,i,r){return void 0!==this[t]&&void 0!==i&&(i!=this[t]&&(this[t]=i,r&&this.broadcast(r)),this.broadcast(e.UPDATED)),this[t]},F.prototype.getHex=function(){return this._hex},F.prototype.getRGB=function(){return"rgb("+[r(this._red),r(this._green),r(this._blue)].join(", ")+")"},F.prototype.getPRGB=function(){return"rgb("+[r(100*this._red/255)+"%",r(100*this._green/255)+"%",r(100*this._blue/255)+"%"].join(", ")+")"},F.prototype.getRGBA=function(){return"rgba("+[r(this._red),r(this._green),r(this._blue),this._alpha].join(", ")+")"},F.prototype.getPRGBA=function(){return"rgba("+[r(100*this._red/255)+"%",r(100*this._green/255)+"%",r(100*this._blue/255)+"%",this._alpha].join(", ")+")"},F.prototype.getHSL=function(){return"hsl("+[r(this._hue),r(this._saturation)+"%",r(this._lightness)+"%"].join(", ")+")"},F.prototype.getHSLA=function(){return"hsla("+[r(this._hue),r(this._saturation)+"%",r(this._lightness)+"%",this._alpha].join(", ")+")"},F.prototype.format=function(t){var e={r:this._red,g:this._green,b:this._blue,h:this._hue,s:this._saturation,l:this._lightness,v:this._brightness,a:this._alpha,x:this._hex,d:this._decimal};for(var i in e)t=t.split("%"+i+"%").join(e[i]);return t},F.prototype.output=0,F.HEX=0,F.RGB=1,F.PRGB=2,F.RGBA=3,F.PRGBA=4,F.HSL=5,F.HSLA=6,F.INT=7,F.prototype.toString=function(){switch(this.output){case 0:return this.getHex();case 1:return this.getRGB();case 2:return this.getPRGB();case 3:return this.getRGBA();case 4:return this.getPRGBA();case 5:return this.getHSL();case 6:return this.getHSLA();case 7:return this._decimal}return this.getHex()},F.prototype.foreground=function(){return this._lightness>50?new F("black"):new F("white")},F.prototype._listeners=null,F.prototype._isSubscribed=function(t){return null!=this._listeners[t]},F.prototype.subscribe=function(t,e){this._isSubscribed(t)||(this._listeners[t]=[]),this._listeners[t].push(e)},F.prototype.unsubscribe=function(t,e){if(this._isSubscribed(t))for(var i=this._listeners[t],r=0,s=i.length;r<s;r++)if(i[r]===e)return i.splice(r,1),this.unsubscribe(t,e)},F.prototype.broadcast=function(t,e){if(this._isSubscribed(t))for(var i=this._listeners[t],r=i.length,s=0;s<r;s++)i[s].apply(this,e)},F.prototype.tween=function(t,e){e instanceof F||(e=new F(e));var i=+new Date,r=this;this.broadcast("tweenStart");var s=setInterval(function(){var n=+new Date-i,a=Math.min(1,n/t);r.interpolate(e,a),r.broadcast("tweenProgress"),1==a&&(clearInterval(s),r.broadcast("tweenComplete"))},20);return s},F.prototype.bind=function(t,e){var i=this;this.subscribe("updated",function(){t[e]=i.toString()})},F.random=function(){return new F(r(16777215*Math.random()))},F.bind=function(t,e){var i=new F(t[e]);return i.bind(t,e),i},F.Events=e,"function"==typeof define&&define("Color",[],function(){return F}),F}(window);